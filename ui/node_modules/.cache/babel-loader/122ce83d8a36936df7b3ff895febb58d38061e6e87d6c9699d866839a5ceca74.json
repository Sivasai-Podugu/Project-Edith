{"ast":null,"code":"var _jsxFileName = \"/Users/sivasai/Documents/Review Changes/Project-Edith/ui/src/components/messagespage/Messages.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport '../../App.css';\nimport ChatHeader from '../chatpage/ChatHeader';\nimport ReceivedMessage from './ReceivedMessage';\nimport SendMessage from './SendMessage';\nimport api from '../api/axiosConfig';\nimport { useLocation, useNavigate, useParams } from 'react-router';\nimport { Loading } from '../loading/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Messages = () => {\n  _s();\n  const [render, setRender] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [intervalId, setIntervalId] = useState(null);\n  const messagesContainerRef = useRef(null);\n  const location = useLocation();\n  const sendername = location.state && location.state.sendername;\n  const navigate = useNavigate();\n  const [message, setMessage] = useState('');\n  const [history, setHistory] = useState([]);\n  const [user, setUser] = useState({});\n  const {\n    id\n  } = useParams();\n  const headers = {\n    Authorization: `Bearer ${localStorage.getItem(\"X-AUTH\")}`\n  };\n  const token = localStorage.getItem('X-AUTH');\n  const fetchUser = async () => {\n    await api.get(`/user/${id}`, {\n      headers\n    }).then(response => {\n      setUser(response.data);\n    }).catch(error => {});\n  };\n  const fetchHistory = async () => {\n    await api.get(`/message/${id}`, {\n      headers\n    }).then(response => {\n      setHistory(response.data);\n    }).catch(error => {});\n  };\n  const fetchData = async () => {\n    await fetchUser();\n    await fetchHistory();\n  };\n  useEffect(() => {\n    const loadingTimer = setTimeout(() => {\n      setIsLoading(false);\n    }, 500);\n    return () => {\n      clearTimeout(loadingTimer);\n    };\n  }, []);\n  useEffect(() => {\n    const id = setInterval(fetchData, 5000);\n    setIntervalId(id);\n    return () => {\n      if (intervalId !== null) {\n        clearInterval(intervalId);\n      }\n    };\n  }, []);\n  useEffect(() => {\n    fetchUser();\n    fetchHistory();\n  }, [render]);\n  useEffect(() => {\n    if (!sendername) {\n      navigate(\"/chat\");\n    }\n    if (messagesContainerRef.current) {\n      messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight + 1000;\n    }\n  }, [history]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const sendMessage = {\n      \"receiverid\": user.id && user.id,\n      \"message\": message,\n      \"timestamp\": new Date().toISOString()\n    };\n    const headers = {\n      Authorization: `Bearer ${localStorage.getItem(\"X-AUTH\")}`\n    };\n    await api.post(\"/message\", sendMessage, {\n      headers\n    }).then(response => {\n      console.log(sendMessage);\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error.response);\n    });\n    setMessage(\"\");\n    setRender(!render);\n  };\n  const RenderMessages = () => {\n    return history === null || history === void 0 ? void 0 : history.map((msg, index) => {\n      if (msg.senderid == Number(id)) {\n        return /*#__PURE__*/_jsxDEV(ReceivedMessage, {\n          text: msg.message,\n          time: msg.timestamp.slice(0, 19).replace('T', ' '),\n          name: user.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 28\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(SendMessage, {\n          text: msg.message,\n          time: msg.timestamp.slice(0, 19).replace('T', ' '),\n          name: sendername\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 28\n        }, this);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(Loading, {\n        message: \"Messages Loading.... please wait....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center w-screen min-h-screen  text-gray-800 p-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col flex-grow w-full max-w-xl bg-white shadow-xl rounded-lg overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-3 border-b-2 pt-4 pb-4 pl-12 md-p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"text-bggreen border border-green-700 hover:bg-bggreen hover:text-white focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center \",\n            onClick: () => {\n              clearInterval(intervalId);\n              navigate(\"/chat\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                \"fill-rule\": \"evenodd\",\n                d: \"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z\",\n                \"clip-rule\": \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sr-only\",\n              children: \"Icon description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pr-[2rem]\",\n            children: /*#__PURE__*/_jsxDEV(ChatHeader, {\n              ischat: false,\n              name: user.name && user.name,\n              username: user.username && user.username,\n              email: user.email && user.email,\n              location: user.location && user.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col flex-grow h-0 p-4 overflow-auto\",\n          ref: messagesContainerRef,\n          style: {\n            overflowY: 'auto',\n            maxHeight: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(RenderMessages, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-t-2 pt-4 pb-4 pl-12 md-p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"flex items-center ml-12 mr-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"flex border-2  items-center h-10 w-[300px] rounded px-3 text-sm\",\n              type: \"text\",\n              placeholder: \"Type your message\\u2026\",\n              name: \"message\",\n              value: message,\n              onChange: e => setMessage(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"ml-9 text-white bg-bggreen hover:bg-green-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Messages, \"HTwBgmlH1nwMRikCF9NJVLp5q1Q=\", false, function () {\n  return [useLocation, useNavigate, useParams];\n});\n_c = Messages;\nvar _c;\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"names":["React","useEffect","useRef","useState","ChatHeader","ReceivedMessage","SendMessage","api","useLocation","useNavigate","useParams","Loading","jsxDEV","_jsxDEV","Fragment","_Fragment","Messages","_s","render","setRender","isLoading","setIsLoading","intervalId","setIntervalId","messagesContainerRef","location","sendername","state","navigate","message","setMessage","history","setHistory","user","setUser","id","headers","Authorization","localStorage","getItem","token","fetchUser","get","then","response","data","catch","error","fetchHistory","fetchData","loadingTimer","setTimeout","clearTimeout","setInterval","clearInterval","current","scrollTop","scrollHeight","handleSubmit","e","preventDefault","sendMessage","Date","toISOString","post","console","log","RenderMessages","map","msg","index","senderid","Number","text","time","timestamp","slice","replace","name","fileName","_jsxFileName","lineNumber","columnNumber","children","className","type","onClick","fill","viewBox","xmlns","d","ischat","username","email","ref","style","overflowY","maxHeight","onSubmit","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/sivasai/Documents/Review Changes/Project-Edith/ui/src/components/messagespage/Messages.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport '../../App.css'\nimport ChatHeader from '../chatpage/ChatHeader'\nimport ReceivedMessage from './ReceivedMessage'\nimport SendMessage from './SendMessage'\nimport api from '../api/axiosConfig'\n\nimport { useLocation, useNavigate, useParams } from 'react-router'\nimport { Loading } from '../loading/Loading'\n\n\ntype MessagesTypes = {\n    senderid:number,\n    message:string,\n    timestamp:string,\n}\n\ntype UserTypes= {\n    id:number,\n    name:string,\n    email:string,\n    location:string,\n    username:string\n\n\n}\n\n \n\nexport const Messages = () => {\n    const [render, setRender ] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n    const [intervalId, setIntervalId] = useState<number | null>(null);\n    const messagesContainerRef = useRef<HTMLDivElement | null>(null);\n    const location = useLocation();\n    const sendername = location.state && location.state.sendername;\n    const navigate = useNavigate();\n    const [message, setMessage] = useState<string>('');\n    const [history,setHistory] = useState<MessagesTypes[]>([]);\n    const [user, setUser] = useState<UserTypes>({} as UserTypes);\n    const {id} = useParams()\n    const headers = {\n        Authorization:`Bearer ${localStorage.getItem(\"X-AUTH\")}`\n    }\n    const token = localStorage.getItem('X-AUTH');  \n\n     \n    \n    const fetchUser = async()=>{\n        \n        await api.get(`/user/${id}`,{headers})\n            .then(response => {\n                 \n                setUser(response.data);\n\n            })\n            .catch(error => {\n                 \n            })\n\n\n    }\n\n    const fetchHistory = async()=>{\n        \n        await api.get(`/message/${id}`,{headers})\n            .then(response => {\n                 \n                setHistory(response.data);\n                \n                \n            })\n            .catch(error => {\n                 \n            })\n\n    }\n\n    \n    \n\n    const fetchData = async () => {\n        await fetchUser();\n        await fetchHistory();\n      };\n\n\n      useEffect(() => {\n        const loadingTimer = setTimeout(() => {\n        setIsLoading(false);\n        }, 500);\n\n        return () => {\n        clearTimeout(loadingTimer);\n        };\n    }, []);\n    \n      useEffect(() => {\n\n         \n        \n        const id: NodeJS.Timeout = setInterval(fetchData, 5000);  \n        setIntervalId(id as unknown as number);  \n    \n         \n        return () => {\n          if (intervalId !== null) {\n             \n            clearInterval(intervalId);  \n          }\n        };\n      }, []);\n\n      useEffect(()=>{\n         \n        fetchUser();\n        fetchHistory();\n      },[render]);\n\n     \n\n      useEffect(()=>{\n        if(!sendername){\n            navigate(\"/chat\");\n        }\n        if (messagesContainerRef.current) {\n            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight + 1000;\n          }\n\n      },[history]);\n\n\n\n    const handleSubmit = async(e: React.FormEvent<HTMLFormElement>) =>{\n        e.preventDefault();\n        \n         \n        const sendMessage = {\n            \n            \"receiverid\":user.id && user.id,\n            \"message\":message,\n            \"timestamp\":new Date().toISOString()\n        }\n        const headers = {\n            Authorization:`Bearer ${localStorage.getItem(\"X-AUTH\")}`\n        }\n        await api.post(\"/message\",sendMessage,{headers})\n            .then(response => {  \n                console.log(sendMessage)   \n                console.log(response.data)\n                \n            })\n            .catch(error => {\n                console.log(error.response)\n                 \n            })\n            setMessage(\"\");\n            setRender(!render);\n      }\n\n   \n    \n    const RenderMessages = ():any => {\n        return (\n            history?.map((msg,index)=>{\n                if(msg.senderid == Number(id)){\n                    return <ReceivedMessage key={index} text={msg.message} time={msg.timestamp.slice(0, 19).replace('T', ' ')} name={user.name} />\n                }\n                else{\n                    return <SendMessage key={index} text={msg.message} time={msg.timestamp.slice(0, 19).replace('T', ' ')} name={sendername} />\n                }\n            })\n          \n        )\n      }\n      \n\n  return (\n    <>\n        {isLoading &&\n            <div className=\"bg-gray-100 min-h-screen flex items-center justify-center\">\n                <Loading message=\"Messages Loading.... please wait....\"/>\n            </div>\n        }\n        <div  className=\"flex flex-col items-center justify-center w-screen min-h-screen  text-gray-800 p-10\">\n                    \n                        \n                    \n\n        \n            <div  className=\"flex flex-col flex-grow w-full max-w-xl bg-white shadow-xl rounded-lg overflow-hidden\">\n                <div  className=\"flex justify-between items-center mb-3 border-b-2 pt-4 pb-4 pl-12 md-p-4\">\n                \n                    <button type=\"button\" className=\"text-bggreen border border-green-700 hover:bg-bggreen hover:text-white focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center \"\n                            onClick={()=>{clearInterval(intervalId as number);navigate(\"/chat\")}}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path fill-rule=\"evenodd\" d=\"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z\" clip-rule=\"evenodd\"></path>\n                        </svg>\n                        <span className=\"sr-only\">Icon description</span>\n                    </button>\n                    <span className='pr-[2rem]'>\n                    <ChatHeader ischat={false} name={user.name && user.name} username={user.username && user.username} email={user.email && user.email} location={user.location && user.location} />\n                    </span>\n                        \n                    \n                </div>\n                <div  className=\"flex flex-col flex-grow h-0 p-4 overflow-auto\" ref={messagesContainerRef} style={{ overflowY: 'auto', maxHeight: '100%' }}>\n                \n                    <RenderMessages />\n                </div>\n                \n                <div className=\"bg-white border-t-2 pt-4 pb-4 pl-12 md-p-4\">\n                    <form onSubmit={handleSubmit} className=\"flex items-center ml-12 mr-5\">\n                        <input\n                        className=\"flex border-2  items-center h-10 w-[300px] rounded px-3 text-sm\"\n                        type=\"text\"\n                        placeholder=\"Type your message…\"\n                        name=\"message\"\n                        value={message}\n                        onChange={(e) => setMessage(e.target.value)}\n                        />\n                        <button\n                        type=\"submit\" \n                        className=\"ml-9 text-white bg-bggreen hover:bg-green-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center\"\n                        >\n                        Send\n                        </button>\n                    </form>\n                </div>\n\n            </div>\n            \n\n        </div>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}